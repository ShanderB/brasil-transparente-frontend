<main>
  @if(isLoading()){
  <app-carregando-dados
    [skeletonCount]="simplifiedData.length"
    [activeReport]="ReportType.Simplificado"
  />
  } @else {
  <div class="total-display">
    <h2>Valor total gasto em 2025:</h2>
    <div
      (mouseenter)="showRawTotal.set(true)"
      (mouseleave)="showRawTotal.set(false)"
      class="total-value"
    >
      {{ showRawTotal() ? formatCurrency(totalValue) : formatLargeCurrency(totalValue) }}
    </div>
  </div>

  <div class="simplified-report">
    <div class="simplified-bars">
      @for(item of simplifiedData; track item.despesaSimplificadaId) {
      <app-toggle-bar-item
        [name]="item.name"
        [level]="0"
        [totalValueSpent]="item.totalValue"
        [percentageOfTotal]="item.percentageOfTotal"
        [barColor]="getBarColor(0)"
        [isLastLevel]="true"
        [isBarExpanded]="false"
      ></app-toggle-bar-item>
      }
    </div>
  </div>
  }
</main>
